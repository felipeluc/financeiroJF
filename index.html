<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestão de Projetos</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
        <div class="nav-header">
            <h2>Gestão de Projetos</h2>
            <button class="menu-toggle" id="menuToggle">☰</button>
        </div>
        <ul class="nav-menu">
            <li><a href="#" class="nav-link active" data-section="dashboard">Dashboard</a></li>
            <li><a href="#" class="nav-link" data-section="acompanhar">Acompanhar</a></li>
            <li><a href="#" class="nav-link" data-section="adicionar">Adicionar Projeto</a></li>
            <li><a href="#" class="nav-link" data-section="calendario">Calendário</a></li>
        </ul>
        <div style="margin-top: auto; padding-top: 2rem;">
            <button class="btn btn-secondary" onclick="logout()">Sair</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard" class="section active">
            <h1>Dashboard</h1>
            
            <div class="dashboard-cards">
                <div class="card">
                    <h3>Total de Projetos</h3>
                    <div class="card-number" id="totalProjetos">0</div>
                </div>
                <div class="card">
                    <h3>Concluídos</h3>
                    <div class="card-number" id="projetosConcluidos">0</div>
                </div>
                <div class="card">
                    <h3>Em Andamento</h3>
                    <div class="card-number" id="projetosAndamento">0</div>
                </div>
            </div>

            <div class="priority-cards">
                <div class="card priority-alta">
                    <h3>Prioridade Alta</h3>
                    <div class="card-number" id="prioridadeAlta">0</div>
                </div>
                <div class="card priority-media">
                    <h3>Prioridade Média</h3>
                    <div class="card-number" id="prioridadeMedia">0</div>
                </div>
                <div class="card priority-leve">
                    <h3>Prioridade Leve</h3>
                    <div class="card-number" id="prioridadeLeve">0</div>
                </div>
            </div>

            <div class="pdf-section">
                <button class="btn btn-primary" id="gerarPdfBtn">Gerar PDF</button>
            </div>
        </section>

        <!-- Acompanhar Projetos Section -->
        <section id="acompanhar" class="section">
            <h1>Acompanhar Projetos</h1>
            
            <!-- Filtros -->
            <div class="filter-section">
                <div class="filter-row">
                    <input type="text" id="filtroTexto" class="filter-input" placeholder="Buscar por título, descrição ou responsável...">
                    <button class="btn btn-secondary filter-toggle" id="toggleAdvancedFilters">
                        Filtros Avançados <span class="filter-arrow">▼</span>
                    </button>
                </div>
                
                <div class="advanced-filters" id="advancedFilters">
                    <div class="filter-grid">
                        <div class="filter-group">
                            <label>Prioridade</label>
                            <select id="filtroPrioridade" class="filter-select">
                                <option value="">Todas</option>
                                <option value="alta">Alta</option>
                                <option value="media">Média</option>
                                <option value="leve">Leve</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>Status</label>
                            <select id="filtroStatus" class="filter-select">
                                <option value="">Todos</option>
                                <option value="concluido">Concluído</option>
                                <option value="andamento">Em Andamento</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>Responsável</label>
                            <select id="filtroResponsavel" class="filter-select">
                                <option value="">Todos</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>Ordenar por</label>
                            <select id="ordenarPor" class="filter-select">
                                <option value="prioridade">Prioridade</option>
                                <option value="titulo">Título</option>
                                <option value="responsavel">Responsável</option>
                                <option value="data">Data de Criação</option>
                                <option value="progresso">Progresso</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label>Direção</label>
                            <select id="direcaoOrdem" class="filter-select">
                                <option value="desc">Decrescente</option>
                                <option value="asc">Crescente</option>
                            </select>
                        </div>
                        <div class="filter-group filter-actions">
                            <button class="btn btn-secondary" id="limparFiltros">Limpar Filtros</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cabeçalho dos projetos -->
            <div class="projects-header">
                <div class="projects-count" id="projectsCount">0 projetos</div>
                <div class="view-options">
                    <button class="btn btn-secondary view-toggle active" id="viewCards">Cards</button>
                    <button class="btn btn-secondary view-toggle" id="viewTable">Tabela</button>
                </div>
            </div>

            <!-- Container dos projetos -->
            <div class="projects-container">
                <!-- Lista de projetos (cards) -->
                <div class="projects-list" id="projectsList">
                    <!-- Projetos serão inseridos aqui via JavaScript -->
                </div>

                <!-- Tabela de projetos -->
                <div class="projects-table hidden" id="projectsTable">
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="sortable" data-sort="titulo">Título</th>
                                <th class="sortable" data-sort="responsavel">Responsável</th>
                                <th class="sortable" data-sort="prioridade">Prioridade</th>
                                <th class="sortable" data-sort="progresso">Progresso</th>
                                <th class="sortable" data-sort="data">Data</th>
                                <th class="sortable" data-sort="dataEntrega">Data de Entrega</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="projectsTableBody">
                            <!-- Linhas da tabela serão inseridas aqui via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Paginação -->
            <div class="pagination">
                <div class="pagination-info" id="paginationInfo">Página 1 de 1</div>
                <div class="pagination-controls">
                    <button class="btn btn-secondary" id="prevPage">Anterior</button>
                    <button class="btn btn-secondary" id="nextPage">Próxima</button>
                </div>
                <div class="pagination-size">
                    <label>Itens por página:</label>
                    <select id="pageSize">
                        <option value="5">5</option>
                        <option value="10" selected>10</option>
                        <option value="20">20</option>
                        <option value="50">50</option>
                    </select>
                </div>
            </div>
        </section>

        <!-- Adicionar Projeto Section -->
        <section id="adicionar" class="section">
            <h1>Adicionar Projeto</h1>
            
            <form class="project-form" id="adicionarProjetoForm">
                <div class="form-group">
                    <label for="titulo">Título *</label>
                    <input type="text" id="titulo" name="titulo" required>
                </div>
                
                <div class="form-group">
                    <label for="descricao">Descrição</label>
                    <textarea id="descricao" name="descricao" rows="4" placeholder="Descreva o projeto..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="responsavel">Responsável</label>
                    <input type="text" id="responsavel" name="responsavel">
                </div>
                
                <div class="form-group">
                    <label for="prioridade">Prioridade</label>
                    <select id="prioridade" name="prioridade">
                        <option value="alta">Alta</option>
                        <option value="media">Média</option>
                        <option value="leve">Leve</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="dataEntrega">Data de Entrega</label>
                    <input type="date" id="dataEntrega" name="dataEntrega">
                </div>
                
                <button type="submit" class="btn btn-primary">Salvar Projeto</button>
            </form>
        </section>

        <!-- Calendário Section -->
        <section id="calendario" class="section">
            <div class="calendar-header">
                <h1>Calendário</h1>
                <div class="calendar-controls">
                    <div class="calendar-filter">
                        <label for="calendarFilter">Visualizar:</label>
                        <select id="calendarFilter">
                            <option value="projetos">Projetos</option>
                            <option value="etapas">Etapas</option>
                            <option value="tarefas">Tarefas</option>
                        </select>
                    </div>
                    <div class="calendar-navigation">
                        <button class="btn btn-secondary" id="mesAnterior">‹ Anterior</button>
                        <span id="mesAno"></span>
                        <button class="btn btn-secondary" id="proximoMes">Próximo ›</button>
                    </div>
                </div>
            </div>
            
            <div class="calendar-container">
                <table class="calendar">
                    <thead>
                        <tr>
                            <th>Dom</th>
                            <th>Seg</th>
                            <th>Ter</th>
                            <th>Qua</th>
                            <th>Qui</th>
                            <th>Sex</th>
                            <th>Sáb</th>
                        </tr>
                    </thead>
                    <tbody id="calendarBody">
                        <!-- Dias do calendário serão inseridos aqui via JavaScript -->
                    </tbody>
                </table>
            </div>

            <div class="calendar-events">
                <h3 id="eventsTitle">Itens do dia selecionado:</h3>
                <div id="eventsList">
                    <p>Selecione um dia para ver os itens agendados.</p>
                </div>
            </div>

            <div class="daily-tasks">
                <h3>Tarefas do Dia:</h3>
                <div id="tasksList">
                    <p>Selecione um dia para gerenciar suas tarefas.</p>
                </div>
                <div class="add-task-section" id="addTaskSection" style="display: none;">
                    <input type="text" id="newTaskInput" class="task-input" placeholder="Nova tarefa...">
                    <button class="btn btn-primary" id="addTaskBtn">Adicionar</button>
                </div>
            </div>
        </section>

        <!-- Detalhes do Projeto Section -->
        <section id="detalhes" class="section">
            <div class="project-header">
                <h1>Detalhes do Projeto</h1>
                <div class="project-actions">
                    <button class="btn btn-secondary" id="voltarAcompanhar">Voltar</button>
                    <button class="btn btn-primary" id="editarProjetoBtn">Editar</button>
                    <button class="btn btn-danger" id="removerProjetoBtn">Remover</button>
                </div>
            </div>
            
            <div id="projectDetails">
                <!-- Detalhes do projeto serão inseridos aqui via JavaScript -->
            </div>

            <div class="ideas-section">
                <div class="ideas-header">
                    <h3>Ideias</h3>
                    <button class="btn btn-primary" id="adicionarIdeiaBtn">Adicionar Ideia</button>
                </div>
                <div id="ideasList">
                    <!-- Lista de ideias será inserida aqui via JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <!-- Modal PDF -->
    <div class="modal" id="pdfModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Gerar Relatório PDF</h3>
                <button class="close" id="closePdfModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>
                        <input type="radio" name="pdfOption" value="todos" checked>
                        Todos os projetos
                    </label>
                </div>
                <div class="form-group">
                    <label>
                        <input type="radio" name="pdfOption" value="especifico">
                        Projeto específico
                    </label>
                    <select id="projetoEspecifico" disabled>
                        <option value="">Selecione um projeto</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelarPdf">Cancelar</button>
                <button class="btn btn-primary" id="confirmarPdf">Gerar PDF</button>
            </div>
        </div>
    </div>

    <!-- Modal Editar Projeto -->
    <div class="modal" id="editarProjetoModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Editar Projeto</h3>
                <button class="close" id="closeEditarModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="editTitulo">Título *</label>
                    <input type="text" id="editTitulo" required>
                </div>
                
                <div class="form-group">
                    <label for="editDescricao">Descrição</label>
                    <textarea id="editDescricao" rows="4" placeholder="Descreva o projeto..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="editResponsavel">Responsável</label>
                    <input type="text" id="editResponsavel">
                </div>
                
                <div class="form-group">
                    <label for="editPrioridade">Prioridade</label>
                    <select id="editPrioridade">
                        <option value="alta">Alta</option>
                        <option value="media">Média</option>
                        <option value="leve">Leve</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="editDataEntrega">Data de Entrega</label>
                    <input type="date" id="editDataEntrega">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelarEdicao">Cancelar</button>
                <button class="btn btn-primary" id="salvarEdicao">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Modal Ideia -->
    <div class="modal" id="ideiaModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="ideiaModalTitle">Adicionar Ideia</h3>
                <button class="close" id="closeIdeiaModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="ideiaForm">
                    <div class="form-group">
                        <label for="ideiaTitulo">Título *</label>
                        <input type="text" id="ideiaTitulo" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="ideiaDescricao">Descrição</label>
                        <textarea id="ideiaDescricao" rows="4" placeholder="Descreva a ideia..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelarIdeia">Cancelar</button>
                <button class="btn btn-primary" id="salvarIdeia">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Modal Etapa -->
    <div class="modal" id="etapaModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="etapaModalTitle">Adicionar Etapa</h3>
                <button class="close" id="closeEtapaModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="etapaForm">
                    <div class="form-group">
                        <label for="etapaTitulo">Título *</label>
                        <input type="text" id="etapaTitulo" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="etapaResponsavel">Responsável</label>
                        <input type="text" id="etapaResponsavel">
                    </div>
                    
                    <div class="form-group">
                        <label for="etapaPrazo">Prazo</label>
                        <input type="date" id="etapaPrazo">
                    </div>
                    
                    <div class="form-group">
                        <label for="etapaLink">Link</label>
                        <input type="url" id="etapaLink" placeholder="https://exemplo.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="etapaObservacao">Observação</label>
                        <textarea id="etapaObservacao" rows="4" placeholder="Observações sobre a etapa..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="etapaConcluida">
                            Etapa concluída
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelarEtapa">Cancelar</button>
                <button class="btn btn-primary" id="salvarEtapa">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Modal Tarefa -->
    <div class="modal" id="tarefaModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="tarefaModalTitle">Adicionar Tarefa</h3>
                <button class="close" id="closeTarefaModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="tarefaForm">
                    <div class="form-group">
                        <label for="tarefaTitulo">Título *</label>
                        <input type="text" id="tarefaTitulo" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="tarefaResponsavel">Responsável</label>
                        <input type="text" id="tarefaResponsavel">
                    </div>
                    
                    <div class="form-group">
                        <label for="tarefaPrazo">Prazo</label>
                        <input type="date" id="tarefaPrazo">
                    </div>
                    
                    <div class="form-group">
                        <label for="tarefaObservacao">Observação</label>
                        <textarea id="tarefaObservacao" rows="4" placeholder="Observações sobre a tarefa..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="tarefaConcluida">
                            Tarefa concluída
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelarTarefa">Cancelar</button>
                <button class="btn btn-primary" id="salvarTarefa">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast">
        <div class="toast-icon" id="toastIcon">✓</div>
        <div class="toast-content">
            <div class="toast-title" id="toastTitle">Sucesso</div>
            <div class="toast-message" id="toastMessage">Operação realizada com sucesso!</div>
        </div>
        <button class="toast-close" id="toastClose">&times;</button>
    </div>

    <!-- Tooltip do calendário -->
    <div class="calendar-tooltip" id="calendarTooltip"></div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <script src="app.js"></script>
</body>
</html>

